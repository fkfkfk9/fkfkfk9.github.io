---
title: Java 8
date: 2021-11-12 23:13:33
tags: [Java, Java8]
---

## Java8

### Java의 버전

Java의 8버전은 2014년에 출시하여 최근까지 업데이트가 되었고 개발자의 대다수가 사용하는데 특히 내가 작업하는 전자정부표준프레임워크에서는 아직도 Java버전을 8을 기준으로 작업된다. Java9버전의 경우 Java8이후 3년이 지나 나오게 되는데 이후 LTS,비 LTS로 버전을 나누게 되는데 LTS의 경우 4버전마다 1번씩 적용되고 이 둘의 차이는 LTS버전은 지원이 몇년간 가는데 비해 비 LTS는 6개월 이후 새 버전이 나오면 더 이상 지원하지 않는다. 안전성을 생각했을때 LTS버전인 8,11,14로 개발하는게 좋고 내가 쓰는 프레임워크는 전자정부표준프레임워크로 권장하는 8버전으로 해야한다.
Java8의 주요 기능으로는 람다, 메소드 레퍼런스, 스트림, 옵셔널 등의 추요 기능이 추가되었다. 부가적인 기능으로 인터페이스에 static 메서드를 선언한다거나 default 메서드를 선언할 수 있게 뙤었다.

### 함수형 인터페이스

인터페이스에 추상메서드가 하나있는것을 함수형 인터페이스라고 한다. 한개 이상 있다면 함수형 인터페이스라고 할 수 없다. @FunctionalInterface 어노테이션을 이용하여 해당 인터페이스가 함수형 인터페이스라는걸 확인가능하다.`(디폴트 메서드와 스테틱 메서드의 경우 사용가능하다.)`  
함수형 인터페이스의 경우 아래 설명할 람다와 주로 같이 사용하게 되는데 이전 버전에서 익명함수를 사용하는것처럼 람다를 이용한 메서드를 선언하면 메서드가 하나뿐인 함수형 인터페이스는 생성과 동시에 람다로 선언해준 메서드를 사용할 수 있게 된다. 람다식을 만들어줄때는 함수형 인터페이스를 작성할 당시의 메서드와 매개변수, 리턴 타입이 일치해야한다.
함수형 인터페이스에서 주의할 점은 순수 함수이기 때문에 함수밖에 있는 값을 변경할 수 없고 함수 밖에 정의되어있는 상태가 없다. 또 함수가 함수를 매개변수로 받을 수 있고 리턴할 수도 있다.

#### 기본으로 제공하는 함수형 인터페이스

함수형 인터페이스의 경우 일반적으로 사용할법한 매개변수, 리턴타입의 경우 이미 자바에서 기본으로 제공하고 있다. 간단한 람다식을 구현하기 위해 구지 인터페이스까지 생성해야하는 작업을 할 필요는 없다.  
기본적으로 제공하는 함수형 인터페이스 목록
- Function<T,R> : T라는 타입을 받아서 R로 리턴하는 방식이다. 즉 매개변수 1개와 리턴을 한개 받도록 정의되어있다. T는 변수를 정의할 때 사용한 타입 즉 사용자가 원하는 타입을 의미한다. compose와 andThen 디폴트 메서드를 제공하는데 이를 이용하여 2개의 Function 인스턴스를 같이 동작시킬 수 있다.
- BiFunction<T,U,R> : T와 U를 매개변수로 받고 R을 리턴해준다.
- Consumer<T> : 매개변수 T만 존재하고 리턴타입이 없다. 즉 매개변수로 작업을 마무리 하던가 Object를 보내 리턴없이도 작업하는것도 가능할 것이다.
- Supplier<T> : Consumer과는 반대로 매개변수가 없고 리턴타입만 존재한다. 넘겨줄 변수가 없을 때 사용가능하다.
- Predicate<T> : 하나의 매개변수를 받아서 결과를 True, False로 리턴해준다. 결과가 논리이기 때문에 not이나 or, and를 하는 디폴트 메서드를 제공한다.
- UnaryOperator<T> : 매개변수의 타입과 리턴타입이 동일할 때 사용할 수 있다. T로 정의를 했으면 T와 동일한 타입으로 리턴해주어야 한다. Function을 상속받는다.
- BinaryOperator<T> : BiFunction 상속받은 인터페이스로 매개변수 2개와 리턴타입이 일치할 때 사용한다.

DOC를 찾아보면 이 외에도 더 많은 함수형 인터페이스가 있지만 위에것들이 자주 사용되는 것들이다.

### 람다 표현식

위에서도 나왔는데 기존에 익명함수의 형태로 메서드를 직접 구현해서 쓰던 방식을 축약해서 사용하는 형태로 `() -> `를 사용하여 하나의 라인에서 바로 추상메서드를 정의할 수 있다. 기본적으로 한줄로 결과과 나온다면 1줄로 처리되고 `{}`또한 필요 없고 리턴타입이 있는 추상메서드라도 return 없이도 자동으로 리턴이 된다. 매개변수가 있을경우 `()`안에 해당 매개변수를 넣어주면 된다. 만약 1줄이 넘어간다면 `{}`를 하고 일반 메서드를 정의하듯이 작업하면 된다.